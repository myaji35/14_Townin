# Epic: USR-001 - User Onboarding

## Epic Overview

| Field | Value |
|-------|-------|
| **Epic ID** | USR-001 |
| **Epic Title** | User Onboarding |
| **Priority** | P0 (Critical) |
| **Status** | ğŸ“‹ PLANNED |
| **Estimated Effort** | 8 days |
| **Actual Effort** | - |
| **Start Date** | TBD |
| **End Date** | TBD |
| **Phase** | Phase 1 - Traffic Acquisition (User App) |
| **Category** | USR - User App |
| **Owner** | Mobile Team (Flutter) |

## Business Value

### Problem Statement
íƒ€ìš´ì¸ì˜ í•µì‹¬ ì°¨ë³„ì ì€ **3-Hub ìœ„ì¹˜ ê¸°ë°˜ ì„œë¹„ìŠ¤**ì…ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì•±ì„ ì²˜ìŒ ì„¤ì¹˜í–ˆì„ ë•Œ, ê±°ì£¼ì§€/ì§ì¥/ê°€ì¡±ì§‘ 3ê³³ì˜ ìœ„ì¹˜ë¥¼ ë“±ë¡í•˜ë„ë¡ ìœ ë„í•˜ì—¬ ê°œì¸í™”ëœ í•˜ì´í¼ë¡œì»¬ ì •ë³´ë¥¼ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤. ì˜¨ë³´ë”©ì´ ë³µì¡í•˜ë©´ ì´íƒˆë¥ ì´ ë†’ì•„ì§€ë¯€ë¡œ, ê°„ë‹¨í•˜ë©´ì„œë„ í•„ìˆ˜ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ëŠ” ì˜¨ë³´ë”© í”Œë¡œìš°ê°€ í•„ìš”í•©ë‹ˆë‹¤.

### Business Value
- **ì‚¬ìš©ì í™œì„±í™”**: 3-Hub ë“±ë¡ ì™„ë£Œ ì‹œ ì„œë¹„ìŠ¤ í™œìš©ë„ 3ë°° ì¦ê°€ (ê°€ì„¤)
- **ì´íƒˆ ë°©ì§€**: ì˜¨ë³´ë”© ì™„ë£Œìœ¨ â‰¥ 70% ëª©í‘œ
- **ê°œì¸í™”**: ìœ„ì¹˜ ê¸°ë°˜ ë§ì¶¤ ì „ë‹¨ì§€ ë…¸ì¶œë¡œ ì°¸ì—¬ë„ ì¦ëŒ€
- **ë°ì´í„° ìˆ˜ì§‘**: ì‚¬ìš©ì ê±°ì£¼ ì§€ì—­ ë¶„í¬ íŒŒì•…ìœ¼ë¡œ ë§ˆì¼€íŒ… ì „ëµ ìˆ˜ë¦½

### Target Users
- **ì‹ ê·œ ì‚¬ìš©ì**: ì•± ì²« ì„¤ì¹˜ ì‹œ ì˜¨ë³´ë”© ê²½í—˜
- **ê¸°ì¡´ ì‚¬ìš©ì**: ì˜¨ë³´ë”© ìŠ¤í‚µ í›„ ë‚˜ì¤‘ì— ìœ„ì¹˜ ì¶”ê°€ ê°€ëŠ¥

## Success Metrics

| Metric | Target | Measurement |
|--------|--------|-------------|
| ì˜¨ë³´ë”© ì‹œì‘ìœ¨ | â‰¥ 90% | ì•± ì„¤ì¹˜ í›„ ì˜¨ë³´ë”© ì§„ì… ë¹„ìœ¨ |
| ì˜¨ë³´ë”© ì™„ë£Œìœ¨ | â‰¥ 70% | 3-Hub ëª¨ë‘ ë“±ë¡ ì™„ë£Œ ë¹„ìœ¨ |
| í‰ê·  ì˜¨ë³´ë”© ì†Œìš” ì‹œê°„ | < 3ë¶„ | ì‹œì‘ â†’ ì™„ë£Œê¹Œì§€ í‰ê·  ì‹œê°„ |
| ìœ„ì¹˜ ë“±ë¡ ì •í™•ë„ | â‰¥ 95% | GPS + ì£¼ì†Œ ê²€ìƒ‰ ì¼ì¹˜ìœ¨ |
| ì˜¨ë³´ë”© ì´íƒˆ ì§€ì  | - | ê° ìŠ¤í…ë³„ ì´íƒˆë¥  ì¶”ì  |

## Epic Scope

### In Scope
âœ… **ì˜¨ë³´ë”© í”Œë¡œìš°**
- ìŠ¤í”Œë˜ì‹œ ìŠ¤í¬ë¦° (íƒ€ìš´ì¸ ë¡œê³ , ë¡œë”©)
- í™˜ì˜ í™”ë©´ (ì„œë¹„ìŠ¤ ì†Œê°œ ìŠ¬ë¼ì´ë“œ 3ì¥)
- ë¡œê·¸ì¸/íšŒì›ê°€ì… ì„ íƒ
- ì†Œì…œ ë¡œê·¸ì¸ (ì¹´ì¹´ì˜¤, ë„¤ì´ë²„, êµ¬ê¸€)
- ì´ë©”ì¼ íšŒì›ê°€ì…
- 3-Hub ìœ„ì¹˜ ë“±ë¡ (ê±°ì£¼ì§€, ì§ì¥, ê°€ì¡±ì§‘)
- ì•Œë¦¼ ê¶Œí•œ ìš”ì²­
- ìœ„ì¹˜ ê¶Œí•œ ìš”ì²­
- ì˜¨ë³´ë”© ì™„ë£Œ í™”ë©´

âœ… **ìœ„ì¹˜ ë“±ë¡ ë°©ë²•**
- GPS í˜„ì¬ ìœ„ì¹˜ ì‚¬ìš©
- ì£¼ì†Œ ê²€ìƒ‰ (Kakao API)
- ì§€ë„ì—ì„œ ì§ì ‘ ì„ íƒ

âœ… **ì˜¨ë³´ë”© ìŠ¤í‚µ**
- ë‚˜ì¤‘ì— ë“±ë¡í•˜ê¸° ë²„íŠ¼
- ìµœì†Œ 1ê°œ ìœ„ì¹˜ë§Œ í•„ìˆ˜

âœ… **ì˜¨ë³´ë”© ì¬ì§„ì…**
- ì„¤ì • > ë‚´ ìœ„ì¹˜ ê´€ë¦¬ì—ì„œ ì¶”ê°€ ë“±ë¡

### Out of Scope
âŒ ì˜¨ë³´ë”© A/B í…ŒìŠ¤íŠ¸ - Phase 2
âŒ íŠœí† ë¦¬ì–¼ (ì•± ì‚¬ìš©ë²• ê°€ì´ë“œ) - Phase 2
âŒ ì¶”ì²œ ìƒì¸ íŒ”ë¡œìš° - Phase 2
âŒ ê´€ì‹¬ ì¹´í…Œê³ ë¦¬ ì„ íƒ - Phase 2

## User Stories

### Story 1.1: ìŠ¤í”Œë˜ì‹œ ìŠ¤í¬ë¦°
**As a** ì‚¬ìš©ì
**I want to** ì•± ì‹¤í–‰ ì‹œ íƒ€ìš´ì¸ ë¡œê³ ë¥¼ ë³´ê³ 
**So that** ë¸Œëœë“œë¥¼ ì¸ì§€í•˜ê³  ë¡œë”© ì¤‘ì„ì„ ì•Œ ìˆ˜ ìˆë‹¤

**Acceptance Criteria:**
- [ ] íƒ€ìš´ì¸ ë¡œê³  ì• ë‹ˆë©”ì´ì…˜ (1.5ì´ˆ)
- [ ] ë¡œë”© ì¸ë””ì¼€ì´í„°
- [ ] ì²« ì‹¤í–‰: ì˜¨ë³´ë”© í™”ë©´ìœ¼ë¡œ ì´ë™
- [ ] ì¬ì‹¤í–‰: ë¡œê·¸ì¸ ìƒíƒœë©´ í™ˆ í™”ë©´, ì•„ë‹ˆë©´ ë¡œê·¸ì¸ í™”ë©´

**Tasks:**
- [ ] SplashScreen ìœ„ì ¯ ì‘ì„± (Flutter)
- [ ] íƒ€ìš´ì¸ ë¡œê³  SVG ì• ì…‹ ì¶”ê°€
- [ ] Lottie ì• ë‹ˆë©”ì´ì…˜ (ì˜µì…˜)
- [ ] ì²« ì‹¤í–‰ ì—¬ë¶€ í™•ì¸ (SharedPreferences)

**Story Points:** 2

---

### Story 1.2: í™˜ì˜ í™”ë©´ (Intro Slides)
**As a** ì‹ ê·œ ì‚¬ìš©ì
**I want to** íƒ€ìš´ì¸ ì„œë¹„ìŠ¤ ì†Œê°œë¥¼ ë³´ê³ 
**So that** ì–´ë–¤ ì•±ì¸ì§€ ì´í•´í•  ìˆ˜ ìˆë‹¤

**Acceptance Criteria:**
- [ ] 3ê°œì˜ ìŠ¬ë¼ì´ë“œ (ìŠ¤ì™€ì´í”„ ê°€ëŠ¥)
  - Slide 1: "ë‚´ ë™ë„¤ ì „ë‹¨ì§€ë¥¼ í•œëˆˆì—" (ì „ë‹¨ì§€ ì¼ëŸ¬ìŠ¤íŠ¸)
  - Slide 2: "CCTV, ì£¼ì°¨ì¥ ì•ˆì „ë§µ" (ì•ˆì „ ì¼ëŸ¬ìŠ¤íŠ¸)
  - Slide 3: "ê°€ì¡± 3ê³³ì˜ ì†Œì‹ì„ ëª¨ì•„ì„œ" (3-Hub ì¼ëŸ¬ìŠ¤íŠ¸)
- [ ] í•˜ë‹¨ í˜ì´ì§€ ì¸ë””ì¼€ì´í„° (1/3, 2/3, 3/3)
- [ ] ë§ˆì§€ë§‰ ìŠ¬ë¼ì´ë“œ: "ì‹œì‘í•˜ê¸°" ë²„íŠ¼
- [ ] ìƒë‹¨ ìš°ì¸¡: "ê±´ë„ˆë›°ê¸°" ë²„íŠ¼

**Tasks:**
- [ ] IntroScreen ìœ„ì ¯ ì‘ì„±
- [ ] PageView.builder êµ¬í˜„
- [ ] ì¼ëŸ¬ìŠ¤íŠ¸ ë””ìì¸ ë˜ëŠ” ë¬´ë£Œ ì—ì…‹ ì‚¬ìš©
- [ ] "ì‹œì‘í•˜ê¸°" ë²„íŠ¼ â†’ ë¡œê·¸ì¸/íšŒì›ê°€ì… ì„ íƒ í™”ë©´

**Story Points:** 3

---

### Story 1.3: ë¡œê·¸ì¸/íšŒì›ê°€ì… ì„ íƒ í™”ë©´
**As a** ì‹ ê·œ ì‚¬ìš©ì
**I want to** ë¡œê·¸ì¸ ë˜ëŠ” íšŒì›ê°€ì…ì„ ì„ íƒí•˜ê³ 
**So that** ê³„ì •ì„ ë§Œë“¤ê±°ë‚˜ ê¸°ì¡´ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸í•  ìˆ˜ ìˆë‹¤

**Acceptance Criteria:**
- [ ] íƒ€ìš´ì¸ ë¡œê³ 
- [ ] "ë¡œê·¸ì¸" ë²„íŠ¼
- [ ] "íšŒì›ê°€ì…" ë²„íŠ¼
- [ ] ì†Œì…œ ë¡œê·¸ì¸ ë²„íŠ¼ (ì¹´ì¹´ì˜¤, ë„¤ì´ë²„, êµ¬ê¸€)
- [ ] ì´ìš©ì•½ê´€ ë° ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ ë™ì˜ ì²´í¬ë°•ìŠ¤

**Tasks:**
- [ ] AuthSelectionScreen ìœ„ì ¯ ì‘ì„±
- [ ] ì†Œì…œ ë¡œê·¸ì¸ ë²„íŠ¼ ë””ìì¸ (ê° í”Œë«í¼ ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜)
- [ ] ì•½ê´€ ë™ì˜ ì²´í¬ë°•ìŠ¤ UI
- [ ] ì•½ê´€ ë³´ê¸° Modal Bottom Sheet

**Story Points:** 3

---

### Story 1.4: ì†Œì…œ ë¡œê·¸ì¸ (ì¹´ì¹´ì˜¤, ë„¤ì´ë²„, êµ¬ê¸€)
**As a** ì‚¬ìš©ì
**I want to** ì¹´ì¹´ì˜¤/ë„¤ì´ë²„/êµ¬ê¸€ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸í•˜ê³ 
**So that** ë³„ë„ íšŒì›ê°€ì… ì—†ì´ ë¹ ë¥´ê²Œ ì‹œì‘í•  ìˆ˜ ìˆë‹¤

**Acceptance Criteria:**
- [ ] ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ SDK ì—°ë™
- [ ] ë„¤ì´ë²„ ë¡œê·¸ì¸ SDK ì—°ë™
- [ ] Google Sign-In SDK ì—°ë™
- [ ] ë¡œê·¸ì¸ ì„±ê³µ ì‹œ JWT í† í° ì €ì¥ (Secure Storage)
- [ ] ì‹ ê·œ ì‚¬ìš©ì: 3-Hub ìœ„ì¹˜ ë“±ë¡ í™”ë©´ìœ¼ë¡œ ì´ë™
- [ ] ê¸°ì¡´ ì‚¬ìš©ì: í™ˆ í™”ë©´ìœ¼ë¡œ ì´ë™

**Tasks:**
- [ ] kakao_flutter_sdk íŒ¨í‚¤ì§€ ì„¤ì¹˜
- [ ] flutter_naver_login íŒ¨í‚¤ì§€ ì„¤ì¹˜
- [ ] google_sign_in íŒ¨í‚¤ì§€ ì„¤ì¹˜
- [ ] AuthService.loginWithKakao() í•¨ìˆ˜ êµ¬í˜„
- [ ] JWT í† í° ì €ì¥ (flutter_secure_storage)

**Story Points:** 8

---

### Story 1.5: ì´ë©”ì¼ íšŒì›ê°€ì…
**As a** ì‚¬ìš©ì
**I want to** ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ íšŒì›ê°€ì…í•˜ê³ 
**So that** ì†Œì…œ ë¡œê·¸ì¸ ì—†ì´ë„ ê³„ì •ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤

**Acceptance Criteria:**
- [ ] ì´ë©”ì¼ ì…ë ¥ í•„ë“œ (ê²€ì¦: RFC 5322)
- [ ] ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í•„ë“œ (ìµœì†Œ 8ì, ì˜ë¬¸+ìˆ«ì+íŠ¹ìˆ˜ë¬¸ì)
- [ ] ë¹„ë°€ë²ˆí˜¸ í™•ì¸ í•„ë“œ
- [ ] ì´ë¦„ ì…ë ¥ í•„ë“œ
- [ ] íšŒì›ê°€ì… ë²„íŠ¼
- [ ] ì‹¤ì‹œê°„ ê²€ì¦ (ì´ë©”ì¼ í˜•ì‹, ë¹„ë°€ë²ˆí˜¸ ì¼ì¹˜)

**Tasks:**
- [ ] SignUpScreen ìœ„ì ¯ ì‘ì„±
- [ ] Form Validation (email, password)
- [ ] POST /api/auth/register API í˜¸ì¶œ
- [ ] íšŒì›ê°€ì… ì„±ê³µ ì‹œ JWT í† í° ì €ì¥

**Story Points:** 5

---

### Story 1.6: 3-Hub ìœ„ì¹˜ ë“±ë¡ (ê±°ì£¼ì§€)
**As a** ì‹ ê·œ ì‚¬ìš©ì
**I want to** ê±°ì£¼ì§€ ìœ„ì¹˜ë¥¼ ë“±ë¡í•˜ê³ 
**So that** ë‚´ ë™ë„¤ ì „ë‹¨ì§€ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤

**Acceptance Criteria:**
- [ ] "ê±°ì£¼ì§€ë¥¼ ë“±ë¡í•´ì£¼ì„¸ìš”" ì•ˆë‚´ ë¬¸êµ¬
- [ ] 3ê°€ì§€ ë“±ë¡ ë°©ë²• ì„ íƒ:
  - "í˜„ì¬ ìœ„ì¹˜ ì‚¬ìš©" ë²„íŠ¼ (GPS)
  - "ì£¼ì†Œ ê²€ìƒ‰" ë²„íŠ¼ (Kakao Address Search)
  - "ì§€ë„ì—ì„œ ì„ íƒ" ë²„íŠ¼ (ì§€ë„ í•€ ë“œë˜ê·¸)
- [ ] ì„ íƒí•œ ìœ„ì¹˜ ë¯¸ë¦¬ë³´ê¸° (ì£¼ì†Œ, ì§€ë„)
- [ ] "í™•ì¸" ë²„íŠ¼ â†’ ì§ì¥ ë“±ë¡ í™”ë©´ìœ¼ë¡œ ì´ë™
- [ ] "ë‚˜ì¤‘ì— ë“±ë¡í•˜ê¸°" ë²„íŠ¼ (í™ˆ í™”ë©´ìœ¼ë¡œ)

**Tasks:**
- [ ] LocationRegistrationScreen ìœ„ì ¯ ì‘ì„±
- [ ] GPS ê¶Œí•œ ìš”ì²­ (geolocator íŒ¨í‚¤ì§€)
- [ ] Kakao Address Search API ì—°ë™
- [ ] ì§€ë„ UI (google_maps_flutter ë˜ëŠ” flutter_naver_map)
- [ ] POST /api/users/me/locations API í˜¸ì¶œ

**Story Points:** 8

---

### Story 1.7: 3-Hub ìœ„ì¹˜ ë“±ë¡ (ì§ì¥)
**As a** ì‚¬ìš©ì
**I want to** ì§ì¥ ìœ„ì¹˜ë¥¼ ë“±ë¡í•˜ê³ 
**So that** íšŒì‚¬ ê·¼ì²˜ ì „ë‹¨ì§€ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤

**Acceptance Criteria:**
- [ ] "ì§ì¥ì„ ë“±ë¡í•´ì£¼ì„¸ìš”" ì•ˆë‚´ ë¬¸êµ¬
- [ ] ê±°ì£¼ì§€ ë“±ë¡ê³¼ ë™ì¼í•œ UI/UX
- [ ] "ì§ì¥ì´ ì—†ì–´ìš”" ë²„íŠ¼ â†’ ê°€ì¡±ì§‘ ë“±ë¡ìœ¼ë¡œ ìŠ¤í‚µ
- [ ] "í™•ì¸" ë²„íŠ¼ â†’ ê°€ì¡±ì§‘ ë“±ë¡ í™”ë©´ìœ¼ë¡œ ì´ë™

**Tasks:**
- [ ] ê±°ì£¼ì§€ ë“±ë¡ ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©
- [ ] locationType: 'work' íŒŒë¼ë¯¸í„° ì „ë‹¬

**Story Points:** 3

---

### Story 1.8: 3-Hub ìœ„ì¹˜ ë“±ë¡ (ê°€ì¡±ì§‘)
**As a** ì‚¬ìš©ì
**I want to** ê°€ì¡±ì§‘ ìœ„ì¹˜ë¥¼ ë“±ë¡í•˜ê³ 
**So that** ë¶€ëª¨ë‹˜/ê°€ì¡± ë™ë„¤ ì „ë‹¨ì§€ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤

**Acceptance Criteria:**
- [ ] "ê°€ì¡±ì§‘ì„ ë“±ë¡í•´ì£¼ì„¸ìš”" ì•ˆë‚´ ë¬¸êµ¬
- [ ] ê±°ì£¼ì§€ ë“±ë¡ê³¼ ë™ì¼í•œ UI/UX
- [ ] "ê°€ì¡±ì§‘ì´ ì—†ì–´ìš”" ë²„íŠ¼ â†’ ì•Œë¦¼ ê¶Œí•œ ìš”ì²­ìœ¼ë¡œ ì´ë™
- [ ] "í™•ì¸" ë²„íŠ¼ â†’ ì•Œë¦¼ ê¶Œí•œ ìš”ì²­ í™”ë©´ìœ¼ë¡œ ì´ë™

**Tasks:**
- [ ] ê±°ì£¼ì§€ ë“±ë¡ ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©
- [ ] locationType: 'family' íŒŒë¼ë¯¸í„° ì „ë‹¬

**Story Points:** 3

---

### Story 1.9: ì•Œë¦¼ ê¶Œí•œ ìš”ì²­
**As a** ì‚¬ìš©ì
**I want to** í‘¸ì‹œ ì•Œë¦¼ì„ í—ˆìš©í•˜ê³ 
**So that** ìƒˆ ì „ë‹¨ì§€ ì•Œë¦¼ì„ ë°›ì„ ìˆ˜ ìˆë‹¤

**Acceptance Criteria:**
- [ ] "ì•Œë¦¼ì„ í—ˆìš©í•´ì£¼ì„¸ìš”" ì•ˆë‚´ ë¬¸êµ¬
- [ ] ì•Œë¦¼ í—ˆìš© ì‹œ ë°›ì„ ìˆ˜ ìˆëŠ” í˜œíƒ ì„¤ëª… (ì˜ˆ: ìƒˆ ì „ë‹¨ì§€ ì•Œë¦¼)
- [ ] "í—ˆìš©" ë²„íŠ¼ â†’ ì‹œìŠ¤í…œ ê¶Œí•œ ìš”ì²­ ë‹¤ì´ì–¼ë¡œê·¸
- [ ] "ë‚˜ì¤‘ì—" ë²„íŠ¼ â†’ ì˜¨ë³´ë”© ì™„ë£Œ í™”ë©´ìœ¼ë¡œ
- [ ] FCM í† í° ë°œê¸‰ ë° ì„œë²„ ì „ì†¡

**Tasks:**
- [ ] firebase_messaging íŒ¨í‚¤ì§€ ì„¤ì¹˜
- [ ] í‘¸ì‹œ ì•Œë¦¼ ê¶Œí•œ ìš”ì²­
- [ ] FCM í† í° ë°œê¸‰
- [ ] POST /api/notifications/device-tokens API í˜¸ì¶œ

**Story Points:** 5

---

### Story 1.10: ì˜¨ë³´ë”© ì™„ë£Œ í™”ë©´
**As a** ì‚¬ìš©ì
**I want to** ì˜¨ë³´ë”© ì™„ë£Œë¥¼ ì¶•í•˜ë°›ê³ 
**So that** íƒ€ìš´ì¸ì„ ì‚¬ìš©í•  ì¤€ë¹„ê°€ ë˜ì—ˆìŒì„ ëŠë‚€ë‹¤

**Acceptance Criteria:**
- [ ] "í™˜ì˜í•©ë‹ˆë‹¤!" ì¶•í•˜ ë¬¸êµ¬
- [ ] ë“±ë¡í•œ 3-Hub ìœ„ì¹˜ ìš”ì•½ í‘œì‹œ
- [ ] "íƒ€ìš´ì¸ ì‹œì‘í•˜ê¸°" ë²„íŠ¼
- [ ] ë²„íŠ¼ í´ë¦­ â†’ í™ˆ í™”ë©´ìœ¼ë¡œ ì´ë™
- [ ] ì˜¨ë³´ë”© ì™„ë£Œ í”Œë˜ê·¸ ì €ì¥ (SharedPreferences)

**Tasks:**
- [ ] OnboardingCompleteScreen ìœ„ì ¯ ì‘ì„±
- [ ] ë“±ë¡ëœ ìœ„ì¹˜ ëª©ë¡ í‘œì‹œ
- [ ] SharedPreferencesì— isOnboardingComplete: true ì €ì¥

**Story Points:** 2

## Technical Specifications

### Technology Stack
- **Framework**: Flutter 3.x
- **State Management**: Riverpod (or Provider)
- **Local Storage**: SharedPreferences (ì˜¨ë³´ë”© ì™„ë£Œ ì—¬ë¶€), flutter_secure_storage (JWT)
- **Location**: geolocator (GPS), Kakao Local API (ì£¼ì†Œ ê²€ìƒ‰)
- **Maps**: flutter_naver_map (ë„¤ì´ë²„ ì§€ë„) ë˜ëŠ” google_maps_flutter
- **Social Login**: kakao_flutter_sdk, flutter_naver_login, google_sign_in
- **Push Notification**: firebase_messaging

### Architecture Decisions

#### 1. ì˜¨ë³´ë”© í”Œë¡œìš° êµ¬ì¡°
**Decision**: Step-by-Step Linear Flow

**Rationale**:
- **ëª…í™•í•œ ëª©í‘œ**: 3-Hub ë“±ë¡ì´ë¼ëŠ” ëª…í™•í•œ ëª©í‘œ
- **ì´íƒˆ ë°©ì§€**: ê° ë‹¨ê³„ì—ì„œ ì§„í–‰ë¥  í‘œì‹œ
- **ìœ ì—°ì„±**: "ë‚˜ì¤‘ì— ë“±ë¡í•˜ê¸°"ë¡œ ìŠ¤í‚µ ê°€ëŠ¥

**í”Œë¡œìš°:**
```
Splash â†’ Intro Slides â†’ Auth Selection â†’ Social/Email Login â†’
ê±°ì£¼ì§€ ë“±ë¡ â†’ ì§ì¥ ë“±ë¡ â†’ ê°€ì¡±ì§‘ ë“±ë¡ â†’ ì•Œë¦¼ ê¶Œí•œ â†’ ì™„ë£Œ
```

#### 2. ìœ„ì¹˜ ë“±ë¡ ë°©ë²•
**Decision**: GPS + ì£¼ì†Œ ê²€ìƒ‰ + ì§€ë„ ì„ íƒ (3ê°€ì§€ ì œê³µ)

**Rationale**:
- **GPS**: ë¹ ë¥´ê³  í¸ë¦¬ (í˜„ì¬ ìœ„ì¹˜ = ê±°ì£¼ì§€ ê°€ì •)
- **ì£¼ì†Œ ê²€ìƒ‰**: ì •í™•í•œ ì£¼ì†Œ ì…ë ¥ (ì§ì¥, ê°€ì¡±ì§‘)
- **ì§€ë„ ì„ íƒ**: ì‹œê°ì  í”¼ë“œë°±, ë¯¸ì„¸ ì¡°ì • ê°€ëŠ¥

#### 3. ìµœì†Œ ë“±ë¡ ìš”êµ¬ì‚¬í•­
**Decision**: ìµœì†Œ 1ê°œ ìœ„ì¹˜ë§Œ í•„ìˆ˜

**Rationale**:
- **ì´íƒˆ ë°©ì§€**: 3ê°œ ëª¨ë‘ í•„ìˆ˜í•˜ë©´ ì´íƒˆë¥  ì¦ê°€
- **ì ì§„ì  ì˜¨ë³´ë”©**: ë‚˜ì¤‘ì— ì„¤ì •ì—ì„œ ì¶”ê°€ ê°€ëŠ¥
- **ì„œë¹„ìŠ¤ ì²´í—˜ ìš°ì„ **: ì¼ë‹¨ ì „ë‹¨ì§€ë¥¼ ë³´ì—¬ì£¼ëŠ” ê²ƒì´ ì¤‘ìš”

### Screen Flow Diagram
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Splash    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Intro Slides â”‚â”€â”€â”€â”€â”€>â”‚    Skip      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚
       v                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚Auth Selectionâ”‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜             â”‚
       â”‚                    â”‚
       v                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚Social/Email â”‚             â”‚
â”‚   Login     â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜             â”‚
       â”‚                    â”‚
       v                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  ê±°ì£¼ì§€ ë“±ë¡  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì§ì¥ ë“±ë¡   â”‚â”€â”€â”€â”€â”€>â”‚  ìŠ¤í‚µ ê°€ëŠ¥    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚
       v                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚ ê°€ì¡±ì§‘ ë“±ë¡  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì•Œë¦¼ ê¶Œí•œ   â”‚â”€â”€â”€â”€â”€>â”‚   ë‚˜ì¤‘ì—     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚
       v                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚ ì˜¨ë³´ë”© ì™„ë£Œ  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  í™ˆ í™”ë©´    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### State Management (Riverpod Example)
```dart
// onboarding_state.dart
class OnboardingState {
  final bool isOnboardingComplete;
  final int currentStep; // 0: intro, 1: auth, 2: location1, ...
  final List<UserLocation> locations;

  OnboardingState({
    this.isOnboardingComplete = false,
    this.currentStep = 0,
    this.locations = const [],
  });
}

// onboarding_notifier.dart
class OnboardingNotifier extends StateNotifier<OnboardingState> {
  OnboardingNotifier() : super(OnboardingState());

  void nextStep() {
    state = state.copyWith(currentStep: state.currentStep + 1);
  }

  void addLocation(UserLocation location) {
    state = state.copyWith(
      locations: [...state.locations, location],
    );
  }

  Future<void> completeOnboarding() async {
    await _saveToLocal(isOnboardingComplete: true);
    state = state.copyWith(isOnboardingComplete: true);
  }
}
```

### API Endpoints Used

| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/api/auth/register` | ì´ë©”ì¼ íšŒì›ê°€ì… |
| POST | `/api/auth/login` | ì´ë©”ì¼ ë¡œê·¸ì¸ |
| GET | `/api/auth/kakao` | ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ |
| GET | `/api/auth/naver` | ë„¤ì´ë²„ ë¡œê·¸ì¸ |
| GET | `/api/auth/google` | êµ¬ê¸€ ë¡œê·¸ì¸ |
| POST | `/api/users/me/locations` | ìœ„ì¹˜ ë“±ë¡ |
| POST | `/api/notifications/device-tokens` | FCM í† í° ë“±ë¡ |

### Local Storage Keys (SharedPreferences)
```dart
const String KEY_IS_ONBOARDING_COMPLETE = 'isOnboardingComplete';
const String KEY_ACCESS_TOKEN = 'accessToken'; // Secure Storage
const String KEY_REFRESH_TOKEN = 'refreshToken'; // Secure Storage
const String KEY_USER_ID = 'userId';
```

## Testing Strategy

### Unit Tests
- [ ] OnboardingNotifier ìƒíƒœ ì „í™˜ í…ŒìŠ¤íŠ¸
- [ ] ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ê²€ì¦ ë¡œì§ í…ŒìŠ¤íŠ¸
- [ ] GPS ì¢Œí‘œ â†’ ì£¼ì†Œ ë³€í™˜ í…ŒìŠ¤íŠ¸

### Widget Tests
- [ ] IntroScreen ìŠ¬ë¼ì´ë“œ ìŠ¤ì™€ì´í”„ í…ŒìŠ¤íŠ¸
- [ ] SignUpScreen Form Validation í…ŒìŠ¤íŠ¸
- [ ] LocationRegistrationScreen ìœ„ì¹˜ ì„ íƒ í…ŒìŠ¤íŠ¸

### Integration Tests
- [ ] ì „ì²´ ì˜¨ë³´ë”© í”Œë¡œìš° (Splash â†’ ì™„ë£Œ)
- [ ] ì†Œì…œ ë¡œê·¸ì¸ í”Œë¡œìš° (Mocked SDK)
- [ ] ìœ„ì¹˜ ë“±ë¡ â†’ API í˜¸ì¶œ í™•ì¸

### User Testing
- [ ] 5ëª… ì´ìƒ ì‚¬ìš©ì í…ŒìŠ¤íŠ¸ (ì˜¨ë³´ë”© ì†Œìš” ì‹œê°„, ì´íƒˆ ì§€ì )
- [ ] A/B í…ŒìŠ¤íŠ¸ (Phase 2): ìŠ¬ë¼ì´ë“œ 3ì¥ vs 1ì¥

## Deployment Checklist

### Pre-Deployment
- [ ] ì¹´ì¹´ì˜¤/ë„¤ì´ë²„/êµ¬ê¸€ ê°œë°œì ì•± ë“±ë¡
- [ ] Firebase í”„ë¡œì íŠ¸ ìƒì„± (FCM)
- [ ] google-services.json (Android), GoogleService-Info.plist (iOS) ì¶”ê°€
- [ ] ì¼ëŸ¬ìŠ¤íŠ¸/ì´ë¯¸ì§€ ì—ì…‹ ì¤€ë¹„

### Deployment
- [ ] Android/iOS ë¹Œë“œ
- [ ] ìŠ¤í† ì–´ ë“±ë¡ (Google Play, App Store)
- [ ] ì˜¨ë³´ë”© ì™„ë£Œìœ¨ ì¶”ì  (Analytics)

### Post-Deployment
- [ ] ì˜¨ë³´ë”© ì™„ë£Œìœ¨ ëª¨ë‹ˆí„°ë§
- [ ] ì´íƒˆ ì§€ì  ë¶„ì„ (ê° ìŠ¤í…ë³„)
- [ ] ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘

## Risks & Mitigation

| Risk | Impact | Probability | Mitigation |
|------|--------|-------------|------------|
| ì˜¨ë³´ë”© ì´íƒˆë¥  ë†’ìŒ (> 30%) | High | Medium | "ë‚˜ì¤‘ì— ë“±ë¡í•˜ê¸°" ì˜µì…˜, ìµœì†Œ 1ê°œ ìœ„ì¹˜ë§Œ í•„ìˆ˜ |
| GPS ê¶Œí•œ ê±°ë¶€ | Medium | High | ì£¼ì†Œ ê²€ìƒ‰ ëŒ€ì²´ ë°©ë²• ì œê³µ |
| ì†Œì…œ ë¡œê·¸ì¸ SDK ì¥ì•  | Medium | Low | ì´ë©”ì¼ ë¡œê·¸ì¸ Fallback |
| ìœ„ì¹˜ ë“±ë¡ 3ê°œê°€ ë„ˆë¬´ ë§ìŒ | Medium | Medium | A/B í…ŒìŠ¤íŠ¸ë¡œ ê²€ì¦ |
| ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì‹œ ì˜¨ë³´ë”© ì¤‘ë‹¨ | High | Medium | ì˜¤í”„ë¼ì¸ ëª¨ë“œ, ì¬ì‹œë„ ë²„íŠ¼ |

## Dependencies

### Depends On (Prerequisites)
- **CORE-001**: Authentication & Authorization System (ë¡œê·¸ì¸ API)
- **CORE-002**: Geospatial Data Infrastructure (ìœ„ì¹˜ ë“±ë¡ API)
- **CORE-004**: Real-time Notification System (FCM í† í° ë“±ë¡)

### Blocks (Dependent Epics)
- **USR-002**: User Profile & Hub Management (ìœ„ì¹˜ ìˆ˜ì •)
- All other User App Epics (ì˜¨ë³´ë”© ì™„ë£Œ í›„ ì‚¬ìš© ê°€ëŠ¥)

## Related Epics

- **USR-002**: User Profile & Hub Management (ì˜¨ë³´ë”© í›„ ìœ„ì¹˜ ì¶”ê°€/ìˆ˜ì •)
- **MRC-001**: Merchant Onboarding (ìƒì¸ ì˜¨ë³´ë”© ì°¸ê³ )

## Future Enhancements

### Phase 2
- ì˜¨ë³´ë”© A/B í…ŒìŠ¤íŠ¸ (ìŠ¬ë¼ì´ë“œ ê°œìˆ˜, ë¬¸êµ¬)
- íŠœí† ë¦¬ì–¼ (ì•± ì‚¬ìš©ë²• ê°€ì´ë“œ)
- ì¶”ì²œ ìƒì¸ íŒ”ë¡œìš°
- ê´€ì‹¬ ì¹´í…Œê³ ë¦¬ ì„ íƒ

### Phase 3
- AI ê¸°ë°˜ ìœ„ì¹˜ ì¶”ì²œ (í–‰ë™ íŒ¨í„´ ë¶„ì„)
- ìŒì„± ì¸ì‹ ì£¼ì†Œ ì…ë ¥
- AR ê¸°ë°˜ ìœ„ì¹˜ ë“±ë¡ (ì¹´ë©”ë¼ë¡œ ì£¼ë³€ ì´¬ì˜)

### Phase 4
- ë‹¤êµ­ì–´ ì˜¨ë³´ë”© (Vietnam, Japan)
- ê³ ë ¹ì ì „ìš© ê°„ì†Œí™” ì˜¨ë³´ë”©

## Notes

### ì˜¨ë³´ë”© ìµœì í™” íŒ
1. **First Time User Experience (FTUE)**: ì²« ì‚¬ìš©ì ê²½í—˜ì´ ê°€ì¥ ì¤‘ìš”
2. **Progressive Onboarding**: í•œ ë²ˆì— ëª¨ë“  ì •ë³´ë¥¼ ìš”êµ¬í•˜ì§€ ë§ê³ , í•„ìš”í•  ë•Œ ì ì§„ì ìœ¼ë¡œ ìš”ì²­
3. **Value Proposition**: ê° ë‹¨ê³„ì—ì„œ "ì™œ í•„ìš”í•œì§€" ëª…í™•íˆ ì„¤ëª…
4. **Visual Feedback**: ì§„í–‰ë¥  í‘œì‹œ, ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ ë¶€ë“œëŸ¬ìš´ ì „í™˜

### Intro Slides ë¬¸êµ¬ ì˜ˆì‹œ
- **Slide 1**: "ë‚´ ë™ë„¤ ì „ë‹¨ì§€ë¥¼ í•œëˆˆì— ğŸ“„\nìš°ë¦¬ ë™ë„¤ í• ì¸ ì •ë³´, ë†“ì¹˜ì§€ ë§ˆì„¸ìš”!"
- **Slide 2**: "CCTV, ì£¼ì°¨ì¥ ì•ˆì „ë§µ ğŸ›¡ï¸\nì•ˆì „í•œ ìš°ë¦¬ ë™ë„¤ë¥¼ ë§Œë“¤ì–´ìš”"
- **Slide 3**: "ê°€ì¡± 3ê³³ì˜ ì†Œì‹ì„ ëª¨ì•„ì„œ ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦\nê±°ì£¼ì§€, ì§ì¥, ê°€ì¡±ì§‘ì˜ ì •ë³´ë¥¼ í•œ ë²ˆì—!"

### Flutter Packages
```yaml
dependencies:
  flutter_riverpod: ^2.4.0
  shared_preferences: ^2.2.0
  flutter_secure_storage: ^9.0.0
  geolocator: ^10.0.0
  kakao_flutter_sdk: ^1.6.0
  flutter_naver_login: ^1.8.0
  google_sign_in: ^6.1.0
  firebase_messaging: ^14.7.0
  flutter_naver_map: ^1.0.0 # ë˜ëŠ” google_maps_flutter
  dio: ^5.3.0 # HTTP Client
```

### References
- Flutter Onboarding Best Practices: https://docs.flutter.dev/cookbook
- Material Design - Onboarding: https://m3.material.io/
- ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ SDK: https://developers.kakao.com/docs/latest/ko/kakaologin/flutter
- Firebase Cloud Messaging: https://firebase.google.com/docs/cloud-messaging/flutter/client
