# Epic: MRC-001 - Merchant Onboarding

## Epic Overview

| Field | Value |
|-------|-------|
| **Epic ID** | MRC-001 |
| **Epic Title** | Merchant Onboarding |
| **Priority** | P0 (Critical) |
| **Status** | ğŸ“‹ PLANNED |
| **Estimated Effort** | 6 days |
| **Phase** | Phase 1 - Traffic Acquisition |
| **Category** | MRC - Merchant App |
| **Owner** | Mobile Team (Flutter) |

## Business Value

ìƒì¸ì´ íƒ€ìš´ì¸ì— ê°€ì…í•˜ê³  ìƒì ì„ ë“±ë¡í•˜ëŠ” ì²« ë‹¨ê³„ì…ë‹ˆë‹¤. **ê°„í¸í•œ ì˜¨ë³´ë”©**ìœ¼ë¡œ ê°€ì… ì¥ë²½ì„ ë‚®ì¶° ë§ì€ ìƒì¸ì„ í™•ë³´í•´ì•¼ í•©ë‹ˆë‹¤.

### Success Metrics
- ìƒì¸ ê°€ì… ì™„ë£Œìœ¨ â‰¥ 70%
- í‰ê·  ì˜¨ë³´ë”© ì†Œìš” ì‹œê°„ < 5ë¶„
- ìƒì  ì •ë³´ ì™„ì„±ë„ â‰¥ 80%

## Epic Scope

âœ… ìƒì¸ íšŒì›ê°€ì… (ì´ë©”ì¼ or ì†Œì…œ)
âœ… ì‚¬ì—…ì ì •ë³´ ì…ë ¥
âœ… ìƒì  ì •ë³´ ë“±ë¡ (ì´ë¦„, ì£¼ì†Œ, ì¹´í…Œê³ ë¦¬)
âœ… ìƒì  ìœ„ì¹˜ ì„¤ì • (ì§€ë„)
âœ… ì˜ì—… ì‹œê°„ ì„¤ì •
âœ… ìƒì  ë¡œê³  ì—…ë¡œë“œ
âœ… ì˜¨ë³´ë”© ì™„ë£Œ

## User Stories

### Story 1.1: ìƒì¸ íšŒì›ê°€ì… ì„ íƒ
- ì´ë©”ì¼ íšŒì›ê°€ì… or ì†Œì…œ ë¡œê·¸ì¸
- ì—­í•  ìë™ ì„¤ì •: merchant
- **Story Points**: 3

### Story 1.2: ì‚¬ì—…ì ì •ë³´ ì…ë ¥
- ì‚¬ì—…ì ë“±ë¡ë²ˆí˜¸ (ì„ íƒ ì‚¬í•­)
- ëŒ€í‘œìëª…
- ì „í™”ë²ˆí˜¸
- **Story Points**: 3

### Story 1.3: ìƒì  ê¸°ë³¸ ì •ë³´
- ìƒì ëª… (í•„ìˆ˜)
- ì¹´í…Œê³ ë¦¬ (ìŒì‹, ì¹´í˜, ë³‘ì› ë“±)
- í•œ ì¤„ ì†Œê°œ
- **Story Points**: 2

### Story 1.4: ìƒì  ìœ„ì¹˜ ì„¤ì •
- ì£¼ì†Œ ê²€ìƒ‰ (Kakao API)
- ì§€ë„ì—ì„œ í•€ ë“œë˜ê·¸
- GPS í˜„ì¬ ìœ„ì¹˜ ì‚¬ìš©
- **Story Points**: 5

### Story 1.5: ì˜ì—… ì‹œê°„ ì„¤ì •
- ìš”ì¼ë³„ ì˜ì—… ì‹œê°„
- íœ´ë¬´ì¼ ì„¤ì •
- ë¸Œë ˆì´í¬ íƒ€ì„
- **Story Points**: 3

### Story 1.6: ìƒì  ë¡œê³  ì—…ë¡œë“œ
- ê°¤ëŸ¬ë¦¬ì—ì„œ ì„ íƒ or ì¹´ë©”ë¼ ì´¬ì˜
- ì´ë¯¸ì§€ í¬ë¡­ (1:1)
- **Story Points**: 3

### Story 1.7: ì—°ë½ì²˜ ì •ë³´
- ëŒ€í‘œ ì „í™”ë²ˆí˜¸
- ì´ë©”ì¼ (ì„ íƒ)
- SNS ë§í¬ (ì„ íƒ)
- **Story Points**: 2

### Story 1.8: ì•½ê´€ ë™ì˜
- ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€
- ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨
- ë§ˆì¼€íŒ… ìˆ˜ì‹  ë™ì˜ (ì„ íƒ)
- **Story Points**: 2

### Story 1.9: ì˜¨ë³´ë”© ì™„ë£Œ í™”ë©´
- "í™˜ì˜í•©ë‹ˆë‹¤!" ì¶•í•˜ ë©”ì‹œì§€
- ë“±ë¡ëœ ìƒì  ì •ë³´ ìš”ì•½
- "íƒ€ìš´ì¸ ì‹œì‘í•˜ê¸°" ë²„íŠ¼
- **Story Points**: 2

### Story 1.10: ê´€ë¦¬ì ìŠ¹ì¸ ëŒ€ê¸°
- ìƒì  ìŠ¹ì¸ ëŒ€ê¸° ìƒíƒœ í‘œì‹œ
- ìŠ¹ì¸ ì™„ë£Œ ì‹œ í‘¸ì‹œ ì•Œë¦¼
- ìŠ¹ì¸ ì „ì—ë„ ì•± ë‘˜ëŸ¬ë³´ê¸° ê°€ëŠ¥
- **Story Points**: 3

## Technical Specifications

### API Endpoints
```
POST /api/auth/register (role: merchant)
POST /api/merchants (ìƒì  ë“±ë¡)
POST /api/files/presigned-url (ë¡œê³  ì—…ë¡œë“œ)
PATCH /api/merchants/:id (ìƒì  ì •ë³´ ìˆ˜ì •)
```

### Database Schema
```sql
CREATE TABLE merchants (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id) UNIQUE,
  business_number VARCHAR(50), -- ì‚¬ì—…ì ë“±ë¡ë²ˆí˜¸
  name VARCHAR(200) NOT NULL, -- ìƒì ëª…
  category VARCHAR(50),
  description TEXT,
  location GEOMETRY(POINT, 4326),
  address VARCHAR(500),
  region_id UUID REFERENCES regions(id),

  -- Contact
  phone VARCHAR(20),
  email VARCHAR(255),
  sns_links JSONB, -- {"instagram": "...", "facebook": "..."}

  -- Business Hours
  business_hours JSONB, -- {"mon": "09:00-22:00", ...}
  closed_days VARCHAR(100),

  -- Media
  logo_url TEXT,
  banner_images JSONB, -- [url1, url2, ...]

  -- Status
  status VARCHAR(20) DEFAULT 'pending' CHECK (status IN ('pending', 'approved', 'rejected', 'suspended')),
  approved_at TIMESTAMP,

  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
```

### State Management
```dart
class MerchantOnboardingState {
  final int currentStep; // 1-9
  final Merchant merchant;
  final bool isLoading;
}
```

### Screen Flow
```
íšŒì›ê°€ì… â†’ ì‚¬ì—…ì ì •ë³´ â†’ ìƒì  ì •ë³´ â†’
ìœ„ì¹˜ ì„¤ì • â†’ ì˜ì—…ì‹œê°„ â†’ ë¡œê³  ì—…ë¡œë“œ â†’
ì—°ë½ì²˜ â†’ ì•½ê´€ ë™ì˜ â†’ ì™„ë£Œ (ìŠ¹ì¸ ëŒ€ê¸°)
```

## Dependencies
- CORE-001 (Auth), CORE-002 (Geospatial), CORE-005 (File Upload)

## Future Enhancements
### Phase 2
- ìƒì  ì¸ì¦ (ì‚¬ì—…ì ë“±ë¡ì¦ ìë™ ì¸ì‹ OCR)
- ìƒì  ì‚¬ì§„ ê°¤ëŸ¬ë¦¬ (ë‚´ë¶€/ì™¸ë¶€ ì‚¬ì§„)
