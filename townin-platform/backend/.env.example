# Townin Backend Environment Variables

# Server
NODE_ENV=development
PORT=3000
API_PREFIX=api

# Database - PostgreSQL
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=townin
DB_PASSWORD=townin123
DB_DATABASE=townin
DB_SYNCHRONIZE=false
DB_LOGGING=true

# Redis (Cache & Queue)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# InfluxDB (IoT Time-Series Data)
INFLUXDB_URL=http://localhost:8086
INFLUXDB_TOKEN=townin-influx-token-2024
INFLUXDB_ORG=townin
INFLUXDB_BUCKET=iot_sensors

# Neo4j (GraphRAG - Phase 3)
NEO4J_URI=bolt://localhost:7687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=townin123

# JWT Authentication
JWT_SECRET=your_super_secret_jwt_key_change_in_production
JWT_EXPIRATION=2h
JWT_REFRESH_SECRET=your_refresh_secret_key
JWT_REFRESH_EXPIRATION=30d

# AI Services
ANTHROPIC_API_KEY=your_anthropic_api_key_here
GOOGLE_APPLICATION_CREDENTIALS=./config/google-cloud-vision-credentials.json

# AWS S3 & CloudFront
AWS_REGION=ap-northeast-2
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
S3_BUCKET_NAME=townin-uploads-prod
CLOUDFRONT_DOMAIN=cdn.townin.kr
CLOUDFRONT_DISTRIBUTION_ID=E123456789ABCD

# File Upload
MAX_FILE_SIZE=10485760 # 10MB
ALLOWED_MIME_TYPES=image/jpeg,image/png,image/webp
PRESIGNED_URL_EXPIRES_IN=900 # 15 minutes

# Seoul Open Data API
SEOUL_OPEN_DATA_API_KEY=your_seoul_open_data_api_key
SEOUL_OPEN_DATA_BASE_URL=http://openapi.seoul.go.kr:8088
SEOUL_API_DAILY_LIMIT=1000

# Kakao API (Geocoding)
KAKAO_REST_API_KEY=your_kakao_rest_api_key

# Kakao OAuth (Social Login)
KAKAO_CLIENT_ID=your_kakao_client_id
KAKAO_CLIENT_SECRET=your_kakao_client_secret
KAKAO_CALLBACK_URL=http://localhost:3000/api/auth/kakao/callback

# Naver OAuth
NAVER_CLIENT_ID=your_naver_client_id
NAVER_CLIENT_SECRET=your_naver_client_secret
NAVER_CALLBACK_URL=http://localhost:3000/api/auth/naver/callback

# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_CALLBACK_URL=http://localhost:3000/api/auth/google/callback

# Default Region (Phase 1)
DEFAULT_REGION_CODE=uijeongbu
DEFAULT_REGION_NAME=의정부시
DEFAULT_PROVINCE=경기도

# CORS
CORS_ORIGIN=http://localhost:*,http://127.0.0.1:*

# Logging
LOG_LEVEL=debug

# Data Sync Cron Jobs
DATA_SYNC_CRON=0 3 * * *
PARKING_REALTIME_SYNC_CRON=*/30 * * * *

# Slack Notification
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Firebase Cloud Messaging (Push Notifications)
FCM_PROJECT_ID=your_firebase_project_id
FCM_PRIVATE_KEY=your_firebase_private_key
FCM_CLIENT_EMAIL=your_firebase_client_email

# Apple Push Notification Service
APNS_KEY_ID=your_apns_key_id
APNS_TEAM_ID=your_apple_team_id
APNS_PRIVATE_KEY=your_apns_private_key
APNS_PRODUCTION=false

# WebSocket
WEBSOCKET_PORT=3001
WEBSOCKET_CORS_ORIGIN=http://localhost:*

# Sentry (Error Tracking)
SENTRY_DSN=https://examplePublicKey@o0.ingest.sentry.io/0
SENTRY_ENVIRONMENT=development

# H3 Geospatial Grid
H3_DEFAULT_RESOLUTION=9
H3_MAX_RADIUS_KM=5

# Points System Configuration
POINTS_PROFILE_COMPLETE=50
POINTS_HUB_CREATE=20
POINTS_FLYER_VIEW=1
POINTS_FLYER_CLICK=5
POINTS_DAILY_CHECKIN=10
POINTS_EXPIRY_DAYS_GENERAL=365
POINTS_EXPIRY_DAYS_EVENT=30

# Target Area Pricing
TARGET_AREA_BASE_COST=100
TARGET_AREA_COST_PER_REACH=0.1
POPULATION_MULTIPLIER=10

# Rate Limiting
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100
