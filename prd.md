Townin (타운인) 통합 제품 요구사항 정의서 (PRD)

Version: 1.1
Date: 2026-01-04
Project Type: Hyper-local Life OS & Insurance GraphRAG Platform
Target Market: South Korea (Initial), Vietnam/Japan (Global Expansion)

1. 프로젝트 개요 (Project Overview)

1.1. 제품 정의

Townin은 공공데이터와 민간 생활 데이터를 결합한 **하이퍼 로컬(Hyper-local) 라이프 운영체제(OS)**이다. 사용자의 생활/행동 데이터를 기반으로 Insurance GraphRAG 엔진이 작동하여, 최적의 보험/케어/생활 서비스를 맥락(Context)에 맞게 연결한다.

1.2. 핵심 비전

For User: "가족의 안부를 묻고, 동네 정보를 얻으면, AI가 필요한 서비스를 연결한다."

For Partner: "전단지 사진만 찍으면 AI가 온라인 상점을 만들어주고, 손님을 보내준다."

For Expert (FP): "상품이 아닌 데이터를 판다. AI 코파일럿이 법규 준수와 상담을 돕는다."

1.3. 핵심 차별화 포인트 (USP)

Privacy-First: 이름과 상세 주소를 수집하지 않고, 위치/행동 패턴으로 경제력과 니즈를 추론한다.

GraphRAG Engine: 단순 검색이 아닌, 이종 데이터(IoT, 전단지, 위치) 간의 관계를 추론하여 인사이트를 도출한다.

Hybrid Data Strategy: 공공데이터(앵커)로 모으고, 민간데이터(간판/전단)로 수익화하며, IoT데이터(케어)로 락인한다.

2. 사용자(User) 앱 기능 상세 정의

2.1. 지역 설정 및 홈 (The 3-Hub Rule)

Multi-Hub 지역 제한: 무분별한 정보 노출 방지를 위해 거주지, 직장, 본가(케어) 3곳으로 지역 설정을 제한.

동네 대시보드: 접속한 지역의 '살기 좋은 동네 지수(Livability Index)' 및 실시간 안전 점수 표시.

2.2. 공공데이터 기반 안심 지도 (Traffic Anchor)

초기 진입 전략: 광고 없는 클린한 '생존 지도'로 트래픽 확보.

데이터 시각화:

Safety Map: CCTV, 가로등, 비상벨, 여성 안심 귀갓길 (밝음/어둠 시각화).

Parking Map: 주정차 단속 카메라 위치, 공영 주차장 실시간 잔여 면수.

Risk Map: 침수 흔적도, 제설함 위치, 급경사지 등 재난 안전 정보.

Life Map: 공공 와이파이, 무더위 쉼터, 전기차 충전소.

2.3. 디지털 전단지 & 스마트 픽업 (Hyper-local Commerce)

AI 전단지 뷰어: 종이 전단지를 모바일 뷰로 변환. 클릭 시 포인트 적립.

N빵 공구 마켓: 대용량/할인 상품을 아파트 이웃과 나누는 '공동 구매' 매칭 알림.

퇴근길 스마트 픽업:

배달비 0원 모델. 퇴근 경로상에 있는 마트/상점에서 미리 결제 후 픽업.

이동 경로(직장→집) 데이터를 기반으로 최적의 상점 추천.

2.4. 패밀리 케어 (IoT Integration & Family Management)

**2.4.1 가족 구성원 프로필 관리 (신설)**

기능 정의: 사용자의 가족 구성원(자녀, 배우자, 부모님 등) 정보를 관리하는 기능.
데이터 항목:
- 관계 (Relationship): 배우자, 자녀, 부모, 형제/자매, 기타
- 출생년도 (Birth Year): 연령대 기반 맞춤 추천용
- 성별 (Gender): 성별 기반 맞춤 추천용
- 별칭 (Nickname): 실명 대신 사용할 호칭 (Privacy-First 준수)
- 거주 지역 (Location Hub): 부모님의 경우 별도 거주지 설정 가능 (안심 케어 연동)

활용 목적:
- 생애주기별 맞춤형 추천 (육아 용품, 키즈 카페, 실버 케어, 교육 정보)
- 안심 케어 서비스 대상 지정

효도 리포터 (AI):

저가형 동작/문열림 센서 데이터 수집.

AI가 데이터를 해석하여 감성 메시지 발송 (예: "어머니가 오늘 활동적이시네요!").

이상 징후 알림: 장시간 미활동, 심야 배회 등 감지 시 보호자에게 즉시 푸시 알림.

안심 귀가 내비게이션: 가로등+영업 중인 가게(간판 앱) 데이터를 결합하여 '가장 밝은 길' 안내.

2.5. 타운인 대동여지도 (Gamification)

사용자 참여: 지도상의 정보 부재 구역(회색 지대) 방문 인증 시 높은 포인트 지급.

보상: '00동 보안관' 배지 부여 및 지역 상점 추가 할인.

3. 파트너(Partner) 앱 기능 상세 정의 (소상공인용)

3.1. 디지털 간판 (Digital Signboard) - 무료 배포

기능: 원터치 OPEN / CLOSE / 잠시 외출 스위치.

혜택: 앱 사용 시 사용자 지도에 '영업 중(반짝임 효과)' 노출.

데이터 가치: 사장님의 성실도(영업 규칙성) 데이터를 수집하여 신용 평가 및 보험료 산출 근거로 활용.

3.2. AI 전단지 스캐너 (Multimodal AI)

기능: POS 연동 없이, 종이 전단지 사진만 찍어 업로드.

프로세스:

OCR/Vision AI: 상품명, 가격, 규격, 이미지 자동 인식 및 크롭.

LLM: 마케팅 문구(1+1, 한정판매) 이해 및 구조화된 데이터(JSON) 변환.

등록: 3초 만에 온라인 판매 페이지 생성.

3.3. 우리 동네 릴레이 쿠폰 (Cross-Selling)

로직: GraphRAG 기반 순차 방문 패턴 분석 (예: 고깃집 → 호프집).

자동 제안: "사장님, 지금 앞집 고깃집에서 결제한 손님에게 '맥주 1잔 쿠폰'을 보내시겠습니까?"

4. 전문가(Expert/FP) 시스템 정의

4.1. FP 전용 AI 코파일럿 (Co-pilot)

리드 매칭: Townin 사용자의 Life Event(이사, 출산, 질병 검색) 발생 시 익명 리드 제공.

약관/지침 검색: 자연어 질의 시 수천 개 약관 및 인수 지침 실시간 검색/요약.

객관성 방어: FP의 추천 상품이 고객의 Townin 데이터(리스크)와 불일치 시 경고 메시지 출력.

4.2. AI 광고 심의 생성기 (Compliance)

기능: 보험협회 광고 규정을 학습한 AI가 안전한 광고 문구 자동 생성.

유형:

정보성 광고: 동네 통계 데이터 기반 (상품 언급 X).

업무 광고: FP의 지역 활동(보안관) 홍보.

캠페인: 안심 귀가/건강 증진 캠페인 참여 유도.

안전장치: 필수 경고 문구(Disclaimer) 자동 삽입 및 금칙어 실시간 필터링.

5. 핵심 기술 엔진: Insurance GraphRAG

5.1. 데이터 소스 및 추론 구조

Input Data:

Geo-Data: 공시지가, 실거래가, 주택 유형 (경제력 추론).

Behavior: 전단지 클릭, 이동 경로, 검색어 (관심사/성향).

IoT: 활동량, 수면 패턴, 외출 빈도 (건강/안전 리스크).

Document: 보험 약관, 사고 보고서, 커뮤니티 피드 등 비정형 데이터.

Inference Engine (Graph):

Node: User - Location - Product(Flyer) - Risk - Insurance Coverage.

Edge: Lives_in, Views, High_Risk_of, Needs.

Output: 초개인화된 보험/서비스 추천 및 소상공인 타겟팅 광고.

5.2. GraphRAG 파이프라인 (Technical Details)

**FR-CORE-001: 데이터 수집 및 인덱싱**

FR-CORE-001.1 (지능형 청킹): 입력 문서를 의미론적 단위(TextUnit)로 분할. 보험 약관의 조항이나 사고 리포트의 단락을 보존하는 방식으로 청킹(Chunking) 수행.

FR-CORE-001.2 (엔티티 및 관계 추출): LLM을 활용하여 각 TextUnit에서 엔티티(Entity: 사람, 장소, 조직, 사고 유형 등)와 관계(Relationship: ~에 위치함, ~에 의해 발생함, ~을 보장함 등)를 추출. 노드(Node)와 엣지(Edge)로 구성된 초기 그래프 형성.

FR-CORE-001.3 (계층적 클러스터링): Leiden 알고리즘을 적용하여 계층적(Hierarchical) 클러스터링 수행. 데이터의 미시적 구조뿐만 아니라 거시적 구조(커뮤니티)를 파악.

FR-CORE-001.4 (커뮤니티 요약 생성): 각 클러스터(커뮤니티)에 대해 상향식(Bottom-up) 요약을 생성하여 포괄적 질문에 대응.

**FR-CORE-002: 검색 및 질의 처리**

FR-CORE-002.1 (글로벌 검색): "최근 3개월간 우리 동네의 주요 안전 이슈를 요약해줘"와 같은 모호한 질문에 대해, 미리 생성된 커뮤니티 요약을 활용하여 답변 생성.

FR-CORE-002.2 (로컬 검색): "내 화재 보험의 자기부담금은 얼마인가?"와 같은 구체적인 질문에 대해, 벡터 유사도 검색과 그래프 인접 노드 탐색을 결합하여 정확한 답변 제공.

FR-CORE-002.3 (출처 추적성): 생성된 모든 답변은 근거가 되는 TextUnit 또는 그래프 노드에 대한 명확한 인용(Citation)을 포함하여 신뢰성 검증 가능.

**FR-CORE-003: 멀티모달 처리**

FR-CORE-003.1 (이미지 분석): GPT-4 Vision 또는 동급의 LMM을 통합하여 사고 현장 사진(파손된 차량, 화재 현장)을 분석하고 텍스트 묘사를 생성하여 그래프에 통합.

FR-CORE-003.2 (OCR 통합): 수기 영수증이나 진단서 이미지를 텍스트로 변환(OCR)하여 구조화된 데이터로 저장 및 인덱싱.

5.3. 보험 모듈 기능 명세

**FR-INS-001: 지능형 클레임 처리**

FR-INS-001.1 (사고 접수 자동화 - FNOL): 사용자가 앱을 통해 사진, 음성, 텍스트로 사고 접수 시, AI가 자동으로 사고 유형, 일시, 장소, 피해 규모를 추출하여 접수 양식 완성.

FR-INS-001.2 (스마트 트리이지): 접수된 클레임을 AI가 분석하여 '단순 건(Simple)'과 '복잡 건(Complex)'으로 분류. 단순 건(소액 파손, 명확한 증거가 있는 도난)의 경우 즉시 지급 결정 목표.

FR-INS-001.3 (사기 탐지 및 교차 검증): GraphRAG를 활용하여 클레임 내용과 커뮤니티 안전 피드 데이터를 교차 검증. 불일치 시 '사기 의심'으로 플래그 처리.

**FR-INS-002: 정책 Q&A 챗봇**

FR-INS-002.1 (개인화된 답변): 사용자의 구체적인 가입 내역(Policy Document)을 기반으로 "내 보험으로 이 사고가 커버되는가?"에 대한 구체적인 답변 제공.

FR-INS-002.2 (모호한 질문 처리): 정확한 보험 용어를 모르더라도, GraphRAG의 의미론적 검색을 통해 의도 파악 및 적절한 조항 설명.

**FR-INS-003: AI 환각 방지 및 리스크 관리**

FR-INS-003.1 (에이전트 계층 구조): 역할이 분담된 에이전트 계층(Master Agent, Policy Verification Agent, Fraud Assessor Agent)을 구축하여 상호 검증으로 환각 최소화.

FR-INS-003.2 (가드레일 및 인간 개입): 답변의 신뢰도 점수(Confidence Score)가 설정된 임계값 미만일 경우, AI는 답변을 유보하고 "상담원 연결"을 제안하는 폴백(Fallback) 메커니즘 작동.

5.2. 사회복지 지원 (Tech for Good)

디지털 확성기: 복지기관에 프리미엄 기능 무료 제공 (무료 급식, 봉사 모집 알림).

자원 매칭: 소상공인의 재고(빵, 식자재)를 인근 복지기관에 기부 연결.

사각지대 발굴: 데이터(주거환경+활동량+소비) 분석을 통해 복지 사각지대 위기 가구 발굴 및 지자체 리포팅.

6. 비즈니스 모델 및 운영 전략

6.1. 수익 모델 (Monetization)

초저가 광고 (Anchor): 디지털 전단지 50원 (유저 25원 + 보안관 5원 + 플랫폼 20원).

전략: 진입 장벽 제거 및 트래픽 확보용.

타겟팅 광고 (Profit): 성향 매칭 광고 100원+.

전략: 구매 전환율이 높은 고관여 트래픽 판매.

O2O 수수료: 픽업/결제 시 발생하는 거래 수수료 (성공 보수형).

전문가 매칭비: FP, 학원, 요양센터 등 상담 리드 연결 수수료.

6.2. 1인 기업 운영 전략 (Solopreneur Ops)

지역 보안관 제도: 영업을 직접 하지 않고, 동네 인플루언서에게 수익 쉐어(5원/건)로 위임.

B2G 경쟁 유도: 'Townin 살기 좋은 동네 지수'를 발표하여 지자체 간 경쟁 유발 $\rightarrow$ 지자체 예산으로 앱 내 정책 홍보 유치.

콜드 스타트: 1개 아파트 단지 집중 공략(볼링핀 전략) $\rightarrow$ 성공 사례 복제.

7. 단계별 개발 로드맵 (Milestones)

단계

목표

핵심 기능

비고

Phase 1

트래픽 확보

- 공공데이터 안심 지도 (CCTV/주차)



- 무료 간판 앱 (Open/Close)



- 디지털 전단지 뷰어

수익보다 사용자/데이터 확보 집중

Phase 2

락인 & 데이터

- IoT 센서 연동 및 효도 리포터



- AI 전단지 스캐너 (사장님용)



- 스마트 픽업 기능

가족 케어로 앱 체류 시간 증대

Phase 3

수익화 (Graph)

- Insurance GraphRAG 엔진 가동



- FP 코파일럿 및 광고 생성기



- 타겟팅 광고 시스템

본격적인 매출 발생 구간

Phase 4

글로벌 확장

- 베트남(전단지 중심), 일본(케어 중심)



- 글로벌 지도 API 연동

국가별 특화 모델 적용

8. 기술 스택 (Tech Stack)

**Frontend:**
- Mobile: Flutter (Cross-platform iOS/Android)
- Web: React.js (관리자 대시보드)

**Backend:**
- API Server: NestJS (Node.js) - 실시간 피드, 인증, 비즈니스 로직
- AI Engine: Python (FastAPI) - GraphRAG, LLM 처리
- Real-time: Node.js (Socket.io) - 실시간 알림 및 라이브 비디오

**Database:**
- RDBMS: PostgreSQL + PostGIS (위치 데이터, 트랜잭션)
- Graph DB: Neo4j 또는 NebulaGraph (Knowledge Graph)
- Vector DB: Pinecone 또는 Milvus (임베딩 저장)
- Time-series: InfluxDB (IoT 시계열 데이터)

**AI/LLM:**
- LLM: OpenAI GPT-4o, Azure OpenAI, 또는 Claude 3.5
- Framework: LangChain, Microsoft GraphRAG
- Vision AI: GPT-4 Vision (이미지 분석, OCR)

**Infrastructure:**
- Container: Docker, Kubernetes (오케스트레이션)
- Cloud: AWS or Google Cloud (Serverless Architecture)
- Message Queue: Redis (캐싱, 작업 큐)
- CDN: CloudFront (정적 콘텐츠 배포)

9. 성공 지표 및 측정 (Success Metrics & KPIs)

9.1. RAG 성능 지표 (RAG Performance Metrics)

| 지표 (Metric) | 정의 (Definition) | 목표치 (Target) |
|--------------|------------------|----------------|
| 검색 정밀도 (Retrieval Precision) | 검색된 청크 중 실제 질문과 관련된 청크의 비율 | > 85% |
| 충실도 (Faithfulness) | 생성된 답변이 검색된 문맥(Context)에 기반하여 사실인지 여부 (환각 측정) | > 95% |
| 답변 관련성 (Answer Relevancy) | 생성된 답변이 사용자의 질문 의도에 얼마나 부합하는지 | > 90% |
| 그래프 커버리지 (Graph Coverage) | 문서 내 주요 엔티티가 지식 그래프에 노드로 얼마나 잘 변환되었는지 비율 | > 90% |

9.2. 비즈니스 및 운영 지표 (Business Metrics)

| 지표 (Metric) | 정의 (Definition) | 목표치 (Target) |
|--------------|------------------|----------------|
| 직통 처리율 (STP Rate) | 사람의 개입 없이 처리 완료된 보험 청구 비율 | 60% (1년차) |
| 청구당 처리 비용 (Cost Per Claim) | 단일 보험 청구를 처리하는 데 드는 평균 운영 비용 | < $20 |
| 평균 처리 시간 (Claims Cycle Time) | 사고 접수(FNOL)부터 보험금 지급 완료까지 걸리는 시간 | < 3일 |
| 활성화율 (Activation Rate) | 앱 설치 후 7일 이내에 의미 있는 활동(게시, 신고, 청구 등)을 한 사용자 비율 | > 30% |

9.3. 커뮤니티 참여 지표 (Community Metrics)

| 지표 (Metric) | 정의 (Definition) | 목표치 (Target) |
|--------------|------------------|----------------|
| 전단지 전환율 (Flyer Conversion) | 디지털 전단지를 본 후 '저장'하거나 '클릭'한 비율 | > 2% |
| 일일 대화량 (Daily Conversations) | 챗봇 또는 커뮤니티 내에서 발생한 총 메시지 수 | 월 15% 성장 |
| DAU (Daily Active Users) | 일일 활성 사용자 수 | Phase 1: 1,000명 / Phase 2: 10,000명 |

10. 리스크 관리 및 완화 전략 (Risk Assessment & Mitigation)

10.1. 기술적 리스크 (Technical Risks)

**리스크 1: GraphRAG 구축 비용 과다**
- 문제: 그래프 생성 과정에서 LLM 토큰 소모량이 매우 큼
- 완화 전략:
  - 증분 업데이트(Incremental Update): 변경된 부분만 처리
  - LightRAG 등 경량화된 그래프 추출 기술 병행 검토
  - 배치 처리 및 캐싱 전략으로 중복 처리 방지

**리스크 2: 복잡한 쿼리에 대한 응답 지연(Latency)**
- 완화 전략:
  - 자주 묻는 질문(FAQ)은 사전 계산(Pre-computation)하여 캐싱
  - 커뮤니티 요약 정보 미리 생성 및 저장
  - 응답 시간 > 3초 시 "처리 중" UI 표시

10.2. AI 환각 및 법적 리스크 (AI Hallucination & Liability)

**리스크: 챗봇이 잘못된 보험 정보를 제공하여 발생하는 법적 분쟁**

완화 전략:
1. **근거 제시**: UI 상에서 챗봇의 답변 옆에 반드시 해당 정보의 출처가 되는 약관 조항(PDF 원문 링크) 표시
2. **보험 가입**: AI 모델의 오류나 환각으로 인한 배상 책임을 보장하는 전용 보험 상품(예: Armilla, Munich Re)에 가입하여 재무적 리스크 헷지
3. **투명성**: 사용자가 AI 답변에 불만족하거나 신뢰도가 낮을 경우, 언제든지 인간 상담원에게 연결할 수 있는 "Human Handoff" 버튼 상시 노출
4. **에이전트 검증**: 다중 에이전트 시스템으로 상호 검증 수행

10.3. 데이터 프라이버시 및 보안 (Privacy & Security)

**리스크: 위치/행동 데이터 유출 시 심각한 프라이버시 침해**

완화 전략:
1. **Privacy-First 설계**: 이름, 상세 주소 미수집 원칙 준수
2. **데이터 암호화**: 저장 데이터 및 전송 데이터 모두 암호화
3. **익명화 처리**: 분석용 데이터는 개인 식별 불가능하도록 익명화
4. **GDPR/PIPA 준수**: 개인정보보호법 및 유럽 GDPR 기준 준수

11. 문서화 표준 (Documentation Standards)

본 프로젝트는 Docs-as-Code 원칙을 따르며, 모든 기술 문서는 코드와 함께 버전 관리됩니다.

11.1. Markdown 작성 표준

- **헤딩(Headings)**: ATX 스타일(#) 사용, H1은 문서 제목으로 한 번만 사용
- **목록(Lists)**: Lazy Numbering(1. 반복) 허용하여 편집 용이성 향상
- **코드 블록(Code Blocks)**: 언어 식별자 필수 명시 (예: ```python, ```json)
- **링크(Links)**: 상대 경로보다 명시적 경로 사용하여 깨짐 방지

11.2. 다이어그램 표준

- **Mermaid.js**: 모든 아키텍처 및 흐름도는 Mermaid 문법으로 작성
- **버전 관리**: 다이어그램은 코드로 정의되어 Git으로 버전 관리
- **스타일**: handDrawn 룩 또는 테마 설정으로 가독성 향상

11.3. 경고 및 강조 구문

GitHub Flavored Markdown의 알림 문법 사용:
- `> [!NOTE]`: 중요한 정보
- `> [!WARNING]`: 주의 사항
- `> [!IMPORTANT]`: 놓치지 말아야 할 핵심 사항

12. 결론 (Conclusion)

본 프로젝트는 단순한 로컬 정보 앱이 아니며, **'데이터 기반의 지역 사회 운영체제'**를 지향한다.

**핵심 성공 요인:**
1. **공공데이터 활용(초기)**: 광고 없는 클린한 안전 지도로 트래픽 확보
2. **AI 자동화(운영)**: GraphRAG 기반 보험 처리 자동화로 운영 비용 절감
3. **보안관 위임(영업)**: 1인 기업 운영이 가능한 지역 위임 모델

**경쟁 우위:**
- GraphRAG 기술을 통해 타사가 모방할 수 없는 데이터 해자(Moat) 구축
- 공공+민간+IoT 데이터의 하이브리드 전략으로 다층적 가치 창출
- Privacy-First 원칙으로 사용자 신뢰 확보

**최종 비전:**
사회적 가치(복지/안전)와 경제적 가치(광고/보험)가 선순환하는 유니콘 플랫폼으로 성장하여, 지역 사회의 회복 탄력성(Resilience)을 높이는 디지털 인프라를 구축한다.