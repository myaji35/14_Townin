# ğŸ™ï¸ Townin - ì§€ì—­ ê¸°ë°˜ ê´‘ê³  í”Œë«í¼

[![CI/CD Pipeline](https://github.com/townin/townin/actions/workflows/ci-cd.yml/badge.svg)](https://github.com/townin/townin/actions)
[![codecov](https://codecov.io/gh/townin/townin/branch/main/graph/badge.svg)](https://codecov.io/gh/townin/townin)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

> ì˜ì •ë¶€ì‹œë¥¼ ìœ„í•œ í˜ì‹ ì ì¸ ì§€ì—­ ê¸°ë°˜ ì „ë‹¨ì§€ ê´‘ê³  í”Œë«í¼

---

## ğŸ“‹ **í”„ë¡œì íŠ¸ ê°œìš”**

Towninì€ ì§€ì—­ ìƒê¶Œì„ í™œì„±í™”í•˜ê³  ì£¼ë¯¼ë“¤ì—ê²Œ í¸ë¦¬í•œ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” í†µí•© í”Œë«í¼ì…ë‹ˆë‹¤.

### **ì£¼ìš” ê¸°ëŠ¥**

#### **ğŸ‘¥ ì¼ë°˜ ì‚¬ìš©ì**
- ğŸ” **AR ì „ë‹¨ì§€ ë·°ì–´**: AR ê¸°ìˆ ë¡œ ì£¼ë³€ ë§¤ì¥ ì „ë‹¨ì§€ í™•ì¸
- ğŸ—ºï¸ **ì•ˆì „ ì§€ë„**: CCTV, ì£¼ì°¨ì¥, ëŒ€í”¼ì†Œ ë“± ê³µê³µ ë°ì´í„° í†µí•©
- â­ **í¬ì¸íŠ¸ ì‹œìŠ¤í…œ**: ì „ë‹¨ì§€ ì—´ëŒ ì‹œ í¬ì¸íŠ¸ ì ë¦½
- ğŸ“± **ì‹¤ì‹œê°„ ì•Œë¦¼**: ì£¼ë³€ ë§¤ì¥ì˜ ì‹ ê·œ í”„ë¡œëª¨ì…˜ ì•Œë¦¼

#### **ğŸª ë¨¸ì²œíŠ¸**
- ğŸ“ **ì „ë‹¨ì§€ ê´€ë¦¬**: ì†ì‰¬ìš´ ì „ë‹¨ì§€ ìƒì„± ë° ìˆ˜ì •
- ğŸ“Š **ë¶„ì„ ëŒ€ì‹œë³´ë“œ**: ì‹¤ì‹œê°„ ì¡°íšŒìˆ˜, í´ë¦­ìˆ˜, ROI ì¶”ì 
- ğŸ“º **ë””ì§€í„¸ ê°„íŒ**: ë§¤ì¥ ë‚´ ì „ì ê°„íŒ ìë™ ìŠ¬ë¼ì´ë“œì‡¼
- ğŸ’° **í¬ì¸íŠ¸ ê´€ë¦¬**: ì‚¬ìš©ì ë¦¬ì›Œë“œ í¬ì¸íŠ¸ ì„¤ì •

#### **ğŸ›¡ï¸ ë³´ì•ˆìš”ì›**
- âœ… **ì „ë‹¨ì§€ ìŠ¹ì¸**: ì²´í¬ë¦¬ìŠ¤íŠ¸ ê¸°ë°˜ ê²€í†  ì‹œìŠ¤í…œ
- ğŸ“¹ **CCTV ëª¨ë‹ˆí„°ë§**: ì‹¤ì‹œê°„ ì¹´ë©”ë¼ í”¼ë“œ
- ğŸš¨ **ì•ˆì „ ì´ë²¤íŠ¸**: ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ì´ë²¤íŠ¸ ê´€ë¦¬
- ğŸ“ **ê¸´ê¸‰ ì—°ë½ë§**: ì›í„°ì¹˜ ì „í™” ì—°ê²°

#### **âš™ï¸ ê´€ë¦¬ì**
- ğŸ“ˆ **í†µí•© ëŒ€ì‹œë³´ë“œ**: ì „ì²´ ì‹œìŠ¤í…œ í˜„í™©
- ğŸ‘¥ **ì‚¬ìš©ì ê´€ë¦¬**: ë¨¸ì²œíŠ¸/ë³´ì•ˆìš”ì› ìŠ¹ì¸
- ğŸ“Š **í†µê³„ ë¶„ì„**: í”Œë«í¼ ì „ì²´ ì¸ì‚¬ì´íŠ¸

---

## ğŸ—ï¸ **ê¸°ìˆ  ìŠ¤íƒ**

### **Frontend**
- **Web Dashboard**: Next.js 16.1 + TypeScript + Tailwind CSS + shadcn/ui
- **Mobile App**: Flutter 3.19 + Material 3
- **State Management**: Riverpod
- **AR**: ARCore (Android) + ARKit (iOS)

### **Backend**
- **Framework**: NestJS 10 + TypeScript
- **Database**: PostgreSQL 15 + TypeORM
- **Cache**: Redis 7
- **Queue**: Bull
- **Real-time**: WebSocket
- **API Docs**: Swagger/OpenAPI

### **Infrastructure**
- **Cloud**: Google Cloud Platform (Cloud Run, Cloud SQL, Cloud Storage)
- **CI/CD**: GitHub Actions
- **Monitoring**: Cloud Logging, Cloud Monitoring
- **Container**: Docker + docker-compose

### **External APIs**
- Google Maps API
- ê³µê³µ ë°ì´í„° í¬í„¸ API (CCTV, ì£¼ì°¨ì¥, ëŒ€í”¼ì†Œ, ë³‘ì›, ì•½êµ­)

---

## ğŸš€ **ë¹ ë¥¸ ì‹œì‘**

### **ì „ì²´ ì‹œìŠ¤í…œ ì‹¤í–‰ (Docker Compose)**

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/townin/townin.git
cd townin

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ì„ ì—´ì–´ í•„ìš”í•œ ê°’ë“¤ì„ ì„¤ì •í•˜ì„¸ìš”

# ì „ì²´ ì‹œìŠ¤í…œ ì‹¤í–‰
docker-compose up -d

# ë¡œê·¸ í™•ì¸
docker-compose logs -f
```

### **ê°œë³„ ì‹¤í–‰**

#### **Backend (NestJS)**
```bash
cd townin-platform/backend

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
npm run migration:run

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run start:dev
```

**ì ‘ì†**: http://localhost:8000  
**API Docs**: http://localhost:8000/api/docs

#### **Frontend (Next.js)**
```bash
cd pm4py-action-items

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev
```

**ì ‘ì†**: http://localhost:3000

#### **Mobile App (Flutter)**
```bash
cd townin-platform/townin_app

# ì˜ì¡´ì„± ì„¤ì¹˜
flutter pub get

# iOS
flutter run -d ios

# Android
flutter run -d android

# Web
flutter run -d chrome
```

**Web ì ‘ì†**: http://localhost:5173  
**Firebase**: https://townin-cb270.web.app

---

## ğŸ§ª **í…ŒìŠ¤íŠ¸**

### **Backend í…ŒìŠ¤íŠ¸**
```bash
cd townin-platform/backend

# Unit í…ŒìŠ¤íŠ¸
npm run test

# E2E í…ŒìŠ¤íŠ¸
npm run test:e2e

# Coverage
npm run test:cov
```

### **Frontend í…ŒìŠ¤íŠ¸**
```bash
cd pm4py-action-items

# Type ì²´í¬
npm run type-check

# Lint
npm run lint

# Build
npm run build
```

### **Flutter í…ŒìŠ¤íŠ¸**
```bash
cd townin-platform/townin_app

# ë¶„ì„
flutter analyze

# í…ŒìŠ¤íŠ¸
flutter test

# Coverage
flutter test --coverage
```

---

## ğŸ“¦ **ë°°í¬**

### **ìë™ ë°°í¬ (CI/CD)**

`main` ë¸Œëœì¹˜ì— Pushí•˜ë©´ ìë™ìœ¼ë¡œ í”„ë¡œë•ì…˜ì— ë°°í¬ë©ë‹ˆë‹¤:
- **Backend**: Google Cloud Run
- **Frontend**: Vercel
- **Mobile**: Firebase Hosting (Web)

### **ìˆ˜ë™ ë°°í¬**

#### **Backend â†’ Google Cloud Run**
```bash
cd townin-platform/backend

# Docker ì´ë¯¸ì§€ ë¹Œë“œ
docker build -t gcr.io/townin-project/backend:latest .

# Google Cloudì— ë°°í¬
gcloud run deploy townin-backend \
  --image gcr.io/townin-project/backend:latest \
  --region asia-northeast3 \
  --platform managed
```

#### **Frontend â†’ Vercel**
```bash
cd pm4py-action-items

# Vercelì— ë°°í¬
vercel --prod
```

#### **Flutter â†’ Firebase**
```bash
cd townin-platform/townin_app

# Web ë¹Œë“œ
flutter build web

# Firebaseì— ë°°í¬
firebase deploy --only hosting
```

---

## ğŸ“– **ë¬¸ì„œ**

- [API ë¬¸ì„œ](http://localhost:8000/api/docs) - Swagger UI
- [Flutter Web ì´ë¯¸ì§€ ê°€ì´ë“œ](./townin-platform/townin_app/docs/FLUTTER_WEB_IMAGES.md)
- [Maps & API ì—°ë™ ê°€ì´ë“œ](./townin-platform/townin_app/docs/MAPS_AND_API_INTEGRATION.md)
- [AR êµ¬í˜„ ê°€ì´ë“œ](./townin-platform/townin_app/docs/AR_IMPLEMENTATION.md)

---

## ğŸ—‚ï¸ **í”„ë¡œì íŠ¸ êµ¬ì¡°**

```
townin/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ ci-cd.yml              # CI/CD íŒŒì´í”„ë¼ì¸
â”œâ”€â”€ pm4py-action-items/            # Next.js Dashboard
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ merchant-dashboard/    # ë¨¸ì²œíŠ¸ ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”œâ”€â”€ guard-dashboard/       # ë³´ì•ˆìš”ì› ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â””â”€â”€ townin-dashboard/      # ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ components/                # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ lib/
â”‚       â””â”€â”€ api-client.ts          # API í´ë¼ì´ì–¸íŠ¸
â”œâ”€â”€ townin-platform/
â”‚   â”œâ”€â”€ backend/                   # NestJS API
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ modules/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth/          # ì¸ì¦
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ flyers/        # ì „ë‹¨ì§€
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ merchants/     # ë¨¸ì²œíŠ¸
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ analytics/     # ë¶„ì„
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚   â””â”€â”€ app.module.ts
â”‚   â”‚   â”œâ”€â”€ test/                  # E2E í…ŒìŠ¤íŠ¸
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â””â”€â”€ townin_app/                # Flutter App
â”‚       â”œâ”€â”€ lib/
â”‚       â”‚   â”œâ”€â”€ presentation/
â”‚       â”‚   â”‚   â”œâ”€â”€ ar/            # AR ë·°ì–´
â”‚       â”‚   â”‚   â”œâ”€â”€ maps/          # ì§€ë„
â”‚       â”‚   â”‚   â””â”€â”€ ...
â”‚       â”‚   â”œâ”€â”€ core/
â”‚       â”‚   â””â”€â”€ data/
â”‚       â”œâ”€â”€ docs/                  # ë¬¸ì„œ
â”‚       â””â”€â”€ pubspec.yaml
â”œâ”€â”€ docker-compose.yml             # Docker Compose
â””â”€â”€ README.md
```

---

## ğŸ¤ **ê¸°ì—¬ ê°€ì´ë“œ**

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

---

## ğŸ“Š **ì§„í–‰ë¥ **

| Category | Epic | ì™„ë£Œ | ì§„í–‰ë¥  |
|----------|------|------|--------|
| **Merchant App** | 5 | **5** | **100%** âœ… |
| **User App** | 11 | **11** | **100%** âœ… |
| **Security Guard** | 3 | **3** | **100%** âœ… |
| **Admin** | 5 | **5** | **100%** âœ… |

**ì „ì²´ ì§„í–‰ë¥ **: **100%** ğŸ‰

---

## ğŸ“ **ë¼ì´ì„¼ìŠ¤**

MIT License - see the [LICENSE](LICENSE) file for details.

---

## ğŸ‘¥ **íŒ€**

- **Project Manager**: Seungsig Gang
- **Tech Stack**: Next.js, NestJS, Flutter
- **Region**: ì˜ì •ë¶€ì‹œ, ê²½ê¸°ë„

---

## ğŸ“ **ë¬¸ì˜**

- **Email**: admin@townin.kr
- **Website**: https://townin.kr
- **GitHub**: https://github.com/townin/townin

---

**Made with â¤ï¸ by Townin Team**
